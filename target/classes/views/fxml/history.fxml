<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<!--
    âš ï¸ CONTENT VIEW ONLY - No Sidebar/Topbar
    This will be loaded inside MainLayout's contentArea by NavbarController
-->
<ScrollPane fitToWidth="true"
            styleClass="page-scroll-pane"
            stylesheets="@../css/styles.css, @../css/history.css"
            xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.yourapp.controller.HistoryController">

    <content>
        <VBox spacing="25" styleClass="page-content">
            <padding>
                <Insets top="30" right="40" bottom="40" left="40"/>
            </padding>

            <!-- ========================================= -->
            <!--           PAGE HEADER                     -->
            <!-- ========================================= -->
            <VBox spacing="5">
                <Label text="Historique" styleClass="page-title">
                    <font>
                        <Font name="System Bold" size="32"/>
                    </font>
                </Label>
                <Label text="Consultez tous vos audits prÃ©cÃ©dents et leurs rÃ©sultats"
                       styleClass="page-subtitle">
                    <font>
                        <Font size="14"/>
                    </font>
                </Label>
            </VBox>

            <!-- ========================================= -->
            <!--        SEARCH & FILTER BAR                -->
            <!-- ========================================= -->
            <HBox spacing="15" alignment="CENTER_LEFT" styleClass="filters-bar">

                <!-- Search Field -->
                <TextField fx:id="searchField"
                           promptText="Rechercher..."
                           prefWidth="300"
                           styleClass="search-field-history">
                    <padding>
                        <Insets top="8" right="12" bottom="8" left="12"/>
                    </padding>
                </TextField>

                <!-- Partner Filter -->
                <ComboBox fx:id="partnerComboBox"
                          promptText="Tous les partenaires"
                          prefWidth="200"
                          styleClass="filter-combo"/>

                <!-- Sort By Filter -->
                <ComboBox fx:id="sortByComboBox"
                          promptText="Trier par"
                          prefWidth="180"
                          styleClass="filter-combo"/>

                <!-- Sort Order Filter -->
                <ComboBox fx:id="sortComboBox"
                          promptText="Ordre"
                          prefWidth="150"
                          styleClass="filter-combo"/>

                <!-- Spacer -->
                <Region HBox.hgrow="ALWAYS"/>

                <!-- Audit Count Label -->
                <Label fx:id="auditCountLabel"
                       text="0 audits"
                       styleClass="audit-count">
                    <font>
                        <Font size="13"/>
                    </font>
                </Label>
            </HBox>

            <!-- ========================================= -->
            <!--           AUDITS TABLE SECTION            -->
            <!-- ========================================= -->
            <VBox spacing="15" VBox.vgrow="ALWAYS">

                <!-- Section Header -->
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="ðŸ“„" style="-fx-font-size: 20px;"/>
                    <Label text="Historique des Audits" styleClass="section-title">
                        <font>
                            <Font name="System Bold" size="18"/>
                        </font>
                    </Label>
                </HBox>

                <!-- Table View -->
                <TableView fx:id="auditTable"
                           styleClass="audit-table"
                           VBox.vgrow="ALWAYS"
                           prefHeight="500">

                    <columns>
                        <!-- Date Column -->
                        <TableColumn fx:id="dateColumn"
                                     text="Date de l'Audit"
                                     prefWidth="130"
                                     styleClass="table-column"/>

                        <!-- Project Column -->
                        <TableColumn fx:id="projectColumn"
                                     text="Projet"
                                     prefWidth="250"
                                     styleClass="table-column"/>

                        <!-- Score Column -->
                        <TableColumn fx:id="scoreColumn"
                                     text="Score"
                                     prefWidth="100"
                                     styleClass="table-column"/>

                        <!-- Status Column -->
                        <TableColumn fx:id="statusColumn"
                                     text="Statut"
                                     prefWidth="130"
                                     styleClass="table-column"/>

                        <!-- Problems Column -->
                        <TableColumn fx:id="problemsColumn"
                                     text="ProblÃ¨mes"
                                     prefWidth="130"
                                     styleClass="table-column"/>

                        <!-- Reports Column -->
                        <TableColumn fx:id="reportsColumn"
                                     text="Rapports"
                                     prefWidth="200"
                                     styleClass="table-column"/>
                    </columns>

                    <!-- Column Resize Policy -->
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                    </columnResizePolicy>

                </TableView>

            </VBox>

        </VBox>
    </content>

</ScrollPane>